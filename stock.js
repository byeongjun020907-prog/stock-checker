ìƒˆ ì±„íŒ…

ë³‘ì¤€ì´ ì§€ê¸ˆê¹Œì§€ ì§„í–‰í•œ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥¸ AIê°€ ê·¸ëŒ€ë¡œ ë”°ë¼ í•˜ë©´ ì™„ì„±ë˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì¬ì •ë¦¬í•œ ë²„ì „ì´ë‹¤. ì•„ë˜ í…ìŠ¤íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ë³µë¶™í•˜ë©´ ëœë‹¤. ================================================== ğŸ“¦ ì¬ê³ ì¡°íšŒ ë¶ë§ˆí¬ë¦¿ í”„ë¡œì íŠ¸ ìµœì¢… ìš”ì•½ (ë‹¤ë¥¸ AIìš©) ================================================== ğŸ¯ í”„ë¡œì íŠ¸ ëª©ì  ì—¬ëŸ¬ ì‡¼í•‘ëª°ì—ì„œ ìƒí’ˆ ìƒì„¸í˜ì´ì§€ì˜ **ì˜µì…˜ë³„ ì¬ê³  ìˆ˜ëŸ‰(ì •í™•í•œ ìˆ«ì)**ì„ ë¶ë§ˆí¬ë¦¿ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ UIë¡œ í‘œ

pasted

ì•ˆë…•í•˜ì„¸ìš”! ì¬ê³ ì¡°íšŒ ë¶ë§ˆí¬ë¦¿ í”„ë¡œì íŠ¸ë¥¼ ì™„ì„±í•˜ë„ë¡ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ë¬¸ì„œë¥¼ í™•ì¸í•œ ê²°ê³¼, ì—¬ëŸ¬ ì‡¼í•‘ëª°ì˜ ì¬ê³ ë¥¼ ì¡°íšŒí•˜ëŠ” ë¶ë§ˆí¬ë¦¿ì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”êµ°ìš”. ì§€ê¸ˆë¶€í„° ë‹¨ê³„ë³„ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.

ğŸ“‹ ì‘ì—… ìˆœì„œ
stock.js íŒŒì¼ ìƒì„± - ëª¨ë“  ì‚¬ì´íŠ¸ íŒŒì„œ ë¡œì§ í¬í•¨
ë¶ë§ˆí¬ë¦¿ ì½”ë“œ ì œê³µ - í•œ ì¤„ë¡œ ì••ì¶•ëœ í˜•íƒœ
í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ ì œê³µ
ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤!


ì¬ê³ ì¡°íšŒ ë¶ë§ˆí¬ë¦¿ì˜ ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ìƒì„± - ëª¨ë“  ì‚¬ì´íŠ¸ íŒŒì„œì™€ UI ë¡œì§ í¬í•¨
stock.js
ì™„ë²½í•©ë‹ˆë‹¤! ì´ì œ ì´ íŒŒì¼ì„ ì¶œë ¥ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•˜ê³  ìµœì¢… ë¶ë§ˆí¬ë¦¿ ì½”ë“œë¥¼ ì œê³µí•˜ê² ìŠµë‹ˆë‹¤.


ì™„ì„±ëœ stock.js íŒŒì¼ì„ ì¶œë ¥ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬


ì´ì œ ì‚¬ìš© ê°€ì´ë“œ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.


ë¶ë§ˆí¬ë¦¿ ì„¤ì¹˜ ë° ì‚¬ìš© ê°€ì´ë“œ ì‘ì„±
README.md
ì™„ë²½í•©ë‹ˆë‹¤! ì´ì œ ë¶ë§ˆí¬ë¦¿ ì½”ë“œë§Œ ë³„ë„ë¡œ ì œê³µí•˜ëŠ” íŒŒì¼ë„ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.


ë¶ë§ˆí¬ë¦¿ ì½”ë“œë§Œ ë‹´ê¸´ í…ìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
bookmarklet.txt
ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰

ğŸ“¦ ì™„ì„±ëœ íŒŒì¼ë“¤
View your stock.js View your README.md View your bookmarklet.txt

ğŸ¯ ë‹¤ìŒ ë‹¨ê³„
1ï¸âƒ£ GitHub ì—…ë¡œë“œ
stock.js íŒŒì¼ì„ GitHub ì €ì¥ì†Œì— ì—…ë¡œë“œí•˜ì„¸ìš”:

Repository: byeongjun020907-prog/stock-checker
Branch: main
íŒŒì¼ëª…: stock.js
2ï¸âƒ£ ë¶ë§ˆí¬ë¦¿ ì½”ë“œ (ë³µì‚¬í•´ì„œ ì‚¬ìš©)
javascript:(()=>{let s=document.createElement('script');s.src='https://raw.githubusercontent.com/byeongjun020907-prog/stock-checker/main/stock.js?'+Date.now();document.body.appendChild(s);})();
3ï¸âƒ£ ì‘ë™ ë°©ì‹
ë¡¯ë°ON/ë¡¯ë°ë°±í™”ì : Vue Storeì—ì„œ ì •í™•í•œ ì¬ê³  ìˆ«ì ì¶”ì¶œ âœ…
ë‹¤ë¥¸ ì‚¬ì´íŠ¸: í’ˆì ˆ/ì¬ê³ ì—¬ë¶€ í‘œì‹œ (disabled ì†ì„± ê¸°ë°˜) âœ…
UI: ì˜¤ë¥¸ìª½ ìƒë‹¨ ê³ ì • íŒì—…, ì´ˆë¡ìƒ‰/ë¹¨ê°„ìƒ‰ êµ¬ë¶„ âœ…
ì—…ë°ì´íŠ¸: GitHub íŒŒì¼ë§Œ ìˆ˜ì •í•˜ë©´ ìë™ ë°˜ì˜ âœ…
ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš€

Stock
JS 
Readme
ë¬¸ì„œ Â· MD 
Bookmarklet
TXT 
ì‘ë™ì´ ì•ˆë˜ë„¤ ?

ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ë‹ˆ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤! ì–´ë–¤ ì‚¬ì´íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ì…¨ë‚˜ìš”? ê·¸ë¦¬ê³  ë¸Œë¼ìš°ì € ì½˜ì†”(F12)ì— ì–´ë–¤ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ë‚˜ìš”?

ìš°ì„  ì¼ë°˜ì ì¸ ë¬¸ì œë“¤ì„ ì²´í¬í•´ë³´ê² ìŠµë‹ˆë‹¤:


stock.js íŒŒì¼ ì²« ì¤„ í™•ì¸ - ì¦‰ì‹œì‹¤í–‰í•¨ìˆ˜ í˜•íƒœ ê²€ì¦


ë¬¸ì œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤! ë¶ë§ˆí¬ë¦¿ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ GitHub Raw URLì˜ ìºì‹œ ë¬¸ì œì™€ CORS ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë” ì•ˆì •ì ì¸ ë²„ì „ìœ¼ë¡œ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤:


1 ë‹¨ê³„

Vue ìš”ì†Œ ì°¾ê¸° ë¡œì§ ê°œì„  - ë” ë§ì€ ì„ íƒì ì‹œë„
+51
-26
stock.js

Vue store ë¡œê·¸ ì¶”ê°€ ë° ë” ìì„¸í•œ ë””ë²„ê¹… ì •ë³´ ì¶œë ¥
+19
-10
stock.js
ì´ì œ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì„œ ë¶ë§ˆí¬ë¦¿ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤:


ë¶ë§ˆí¬ë¦¿ í…ŒìŠ¤íŠ¸ìš© HTML í˜ì´ì§€ ìƒì„±
test.html

ìˆ˜ì •ëœ stock.jsë¥¼ ì¶œë ¥ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬


ì´ì œ ë” ìì„¸í•œ ë””ë²„ê¹… ê°€ì´ë“œë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤:


ë¬¸ì œ í•´ê²° ë° ë””ë²„ê¹… ê°€ì´ë“œ ì‘ì„±
TROUBLESHOOTING.md
ì¢‹ìŠµë‹ˆë‹¤! ì´ì œ ì œê°€ ì§ì ‘ ì–´ë–¤ ë¬¸ì œê°€ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì§ˆë¬¸ë“œë¦¬ê² ìŠµë‹ˆë‹¤:

ğŸ” ì–´ë–¤ ìƒí™©ì¸ì§€ ì•Œë ¤ì£¼ì„¸ìš”:
1. GitHub íŒŒì¼ ì—…ë¡œë“œëŠ” í•˜ì…¨ë‚˜ìš”?

stock.js íŒŒì¼ì„ byeongjun020907-prog/stock-checker ì €ì¥ì†Œì— ì—…ë¡œë“œí•˜ì…¨ë‚˜ìš”?
2. ì–´ë–¤ ì‚¬ì´íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ì…¨ë‚˜ìš”?

ë¡¯ë°ON? ë¡¯ë°ë°±í™”ì ? ë‹¤ë¥¸ ì‚¬ì´íŠ¸?
ì •í™•í•œ URLì„ ì•Œë ¤ì£¼ì‹œë©´ ë„ì›€ì´ ë©ë‹ˆë‹¤.
3. ë¶ë§ˆí¬ë¦¿ í´ë¦­ ì‹œ ì–´ë–¤ ë°˜ì‘ì´ ìˆë‚˜ìš”?

ì•„ë¬´ ë°˜ì‘ ì—†ìŒ?
ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ?
íŒì—…ì´ ëœ¨ê¸´ í•˜ëŠ”ë° ë‚´ìš©ì´ ì´ìƒí•¨?
4. ë¸Œë¼ìš°ì € ì½˜ì†”(F12)ì— ì–´ë–¤ ë©”ì‹œì§€ê°€ ë³´ì´ë‚˜ìš”?

[ì¬ê³ ]ë¡œ ì‹œì‘í•˜ëŠ” ë¡œê·¸ê°€ ìˆë‚˜ìš”?
ë¹¨ê°„ìƒ‰ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ìˆë‚˜ìš”?
View your updated stock.js View your test page View troubleshooting guide

ìœ„ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ì •í™•í•œ í•´ê²° ë°©ë²•ì„ ì œì‹œí•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ”§

Stock
JS 
Test
ì½”ë“œ Â· HTML 
Troubleshooting
ë¬¸ì„œ Â· MD 


ì˜¤ëŠ˜ ì–´ë–¤ ë„ì›€ì„ ë“œë¦´ê¹Œìš”?






Stock Â· JS
ë³µì‚¬

(function() {
  'use strict';

  console.log('[ì¬ê³ ] ë¶ë§ˆí¬ë¦¿ ì‹œì‘');
  console.log('[ì¬ê³ ] í˜„ì¬ URL:', window.location.href);

  // ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ì§€ ì²´í¬
  if (window.__stockCheckerRunning) {
    console.log('[ì¬ê³ ] ì´ë¯¸ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.');
    alert('ì´ë¯¸ ì¬ê³ ì¡°íšŒê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.');
    return;
  }
  window.__stockCheckerRunning = true;

  // í˜„ì¬ ì‚¬ì´íŠ¸ ê°ì§€
  const hostname = window.location.hostname;
  let siteType = 'unknown';

  if (hostname.includes('lotteon.com')) {
    siteType = 'lotteon';
    console.log('[ì¬ê³ ][ì‚¬ì´íŠ¸] ë¡¯ë°ON ê°ì§€');
  } else if (hostname.includes('ellotte.com')) {
    siteType = 'lottedb';
    console.log('[ì¬ê³ ][ì‚¬ì´íŠ¸] ë¡¯ë°ë°±í™”ì  ê°ì§€');
  } else if (hostname.includes('thegrandstage.co.kr')) {
    siteType = 'grandstage';
    console.log('[ì¬ê³ ][ì‚¬ì´íŠ¸] GrandStage ê°ì§€');
  } else if (hostname.includes('ssg.com')) {
    siteType = 'ssg';
    console.log('[ì¬ê³ ][ì‚¬ì´íŠ¸] SSG ê°ì§€');
  } else if (hostname.includes('ssfshop.com')) {
    siteType = 'ssfshop';
    console.log('[ì¬ê³ ][ì‚¬ì´íŠ¸] SSF Shop ê°ì§€');
  } else if (hostname.includes('lottimall.com')) {
    siteType = 'lottimall';
    console.log('[ì¬ê³ ][ì‚¬ì´íŠ¸] ë¡¯ë°IMALL ê°ì§€');
  } else {
    alert('âŒ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.\n\nì§€ì› ì‚¬ì´íŠ¸:\n- ë¡¯ë°ON\n- ë¡¯ë°ë°±í™”ì \n- GrandStage\n- SSG\n- SSF Shop\n- ë¡¯ë°IMALL');
    window.__stockCheckerRunning = false;
    return;
  }

  // ì¬ê³  ë°ì´í„° íŒŒì‹±
  let items = [];

  try {
    if (siteType === 'lotteon' || siteType === 'lottedb') {
      items = parseLotteStock();
    } else if (siteType === 'grandstage') {
      items = parseGrandStageStock();
    } else if (siteType === 'ssg') {
      items = parseSSGStock();
    } else if (siteType === 'ssfshop') {
      items = parseSSFShopStock();
    } else if (siteType === 'lottimall') {
      items = parseLotteIMallStock();
    }
  } catch (error) {
    console.error('[ì¬ê³ ] íŒŒì‹± ì˜¤ë¥˜:', error);
    alert('âŒ ì¬ê³  ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\n' + error.message);
    window.__stockCheckerRunning = false;
    return;
  }

  console.log('[ì¬ê³ ] ìµœì¢… items:', items);

  if (items.length === 0) {
    alert('âš ï¸ ì¬ê³  ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\ní˜ì´ì§€ê°€ ì™„ì „íˆ ë¡œë”©ëœ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    window.__stockCheckerRunning = false;
    return;
  }

  // UI ë Œë”ë§
  renderStockUI(items);

  // ==============================================
  // ë¡¯ë°ON / ë¡¯ë°ë°±í™”ì  íŒŒì„œ
  // ==============================================
  function parseLotteStock() {
    console.log('[ì¬ê³ ][ë¡¯ë°] íŒŒì‹± ì‹œì‘');
    
    const items = [];
    
    // Vue storeì—ì„œ ë°ì´í„° ì¶”ì¶œ - ì—¬ëŸ¬ ë°©ë²• ì‹œë„
    let vueStore = null;

    // ë°©ë²• 1: data-v-app ì†ì„± ì°¾ê¸°
    const vueElements = document.querySelectorAll('[data-v-app]');
    for (let el of vueElements) {
      if (el.__vue__ && el.__vue__.$store) {
        vueStore = el.__vue__.$store;
        console.log('[ì¬ê³ ][ë¡¯ë°] Vue Store ë°œê²¬ (data-v-app)');
        break;
      }
    }

    // ë°©ë²• 2: #app ì°¾ê¸°
    if (!vueStore) {
      const appEl = document.querySelector('#app');
      if (appEl && appEl.__vue__ && appEl.__vue__.$store) {
        vueStore = appEl.__vue__.$store;
        console.log('[ì¬ê³ ][ë¡¯ë°] Vue Store ë°œê²¬ (#app)');
      }
    }

    // ë°©ë²• 3: bodyì—ì„œ ì°¾ê¸°
    if (!vueStore) {
      if (document.body.__vue__ && document.body.__vue__.$store) {
        vueStore = document.body.__vue__.$store;
        console.log('[ì¬ê³ ][ë¡¯ë°] Vue Store ë°œê²¬ (body)');
      }
    }

    // ë°©ë²• 4: ëª¨ë“  ìš”ì†Œ ìˆœíšŒ
    if (!vueStore) {
      const allElements = document.querySelectorAll('*');
      for (let el of allElements) {
        if (el.__vue__ && el.__vue__.$store) {
          vueStore = el.__vue__.$store;
          console.log('[ì¬ê³ ][ë¡¯ë°] Vue Store ë°œê²¬ (ì „ì²´ ìˆœíšŒ)');
          break;
        }
      }
    }

    if (!vueStore) {
      console.error('[ì¬ê³ ][ë¡¯ë°] Vue Storeë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      throw new Error('Vue Storeë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ê°€ ì™„ì „íˆ ë¡œë”©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
    }

    console.log('[ì¬ê³ ][ë¡¯ë°] Vue Store ë°œê²¬');
    console.log('[ì¬ê³ ][ë¡¯ë°] Store state:', vueStore.state);

    const productData = vueStore.state.product;
    if (!productData) {
      console.error('[ì¬ê³ ][ë¡¯ë°] product ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
      console.log('[ì¬ê³ ][ë¡¯ë°] ì‚¬ìš© ê°€ëŠ¥í•œ state:', Object.keys(vueStore.state));
      throw new Error('ìƒí’ˆ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    }
    
    if (!productData.optionInfo) {
      console.error('[ì¬ê³ ][ë¡¯ë°] optionInfoê°€ ì—†ìŠµë‹ˆë‹¤.');
      console.log('[ì¬ê³ ][ë¡¯ë°] product êµ¬ì¡°:', Object.keys(productData));
      throw new Error('ìƒí’ˆ ì˜µì…˜ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    }

    const optionInfo = productData.optionInfo;
    console.log('[ì¬ê³ ][ë¡¯ë°] optionInfo:', optionInfo);

    // ì˜µì…˜ ë‹¨ê³„ í™•ì¸
    const hasOption1 = optionInfo.option1List && optionInfo.option1List.length > 0;
    const hasOption2 = optionInfo.option2List && optionInfo.option2List.length > 0;

    if (hasOption1 && hasOption2) {
      // 2ë‹¨ê³„ ì˜µì…˜ (ìƒ‰ìƒ Ã— ì‚¬ì´ì¦ˆ)
      console.log('[ì¬ê³ ][ë¡¯ë°] 2ë‹¨ê³„ ì˜µì…˜ ì²˜ë¦¬');
      
      optionInfo.option1List.forEach(opt1 => {
        optionInfo.option2List.forEach(opt2 => {
          const key = `${opt1.optValCd}_${opt2.optValCd}`;
          const mapping = optionInfo.optionMappingInfo[key];
          
          if (mapping) {
            items.push({
              name: `${opt1.optValNm} / ${opt2.optValNm}`,
              stock: mapping.stkQty || 0
            });
          }
        });
      });
    } else if (hasOption1) {
      // 1ë‹¨ê³„ ì˜µì…˜
      console.log('[ì¬ê³ ][ë¡¯ë°] 1ë‹¨ê³„ ì˜µì…˜ ì²˜ë¦¬');
      
      optionInfo.option1List.forEach(opt => {
        const mapping = optionInfo.optionMappingInfo[opt.optValCd];
        
        if (mapping) {
          items.push({
            name: opt.optValNm,
            stock: mapping.stkQty || 0
          });
        }
      });
    } else {
      // ë‹¨ì¼ ìƒí’ˆ
      console.log('[ì¬ê³ ][ë¡¯ë°] ë‹¨ì¼ ìƒí’ˆ ì²˜ë¦¬');
      
      const stkQty = productData.stkQty || 0;
      items.push({
        name: 'ë‹¨ì¼ ìƒí’ˆ',
        stock: stkQty
      });
    }

    console.log('[ì¬ê³ ][ë¡¯ë°] íŒŒì‹± ì™„ë£Œ:', items.length + 'ê°œ');
    return items;
  }

  // ==============================================
  // GrandStage íŒŒì„œ
  // ==============================================
  function parseGrandStageStock() {
    console.log('[ì¬ê³ ][GrandStage] íŒŒì‹± ì‹œì‘');
    
    const items = [];
    const selects = document.querySelectorAll('select[name*="option"], select.option-select');

    if (selects.length === 0) {
      throw new Error('ì˜µì…˜ ì„ íƒ ë©”ë‰´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    }

    selects.forEach(select => {
      const options = select.querySelectorAll('option');
      
      options.forEach(option => {
        const text = option.textContent.trim();
        
        // ê¸°ë³¸ ì„ íƒ ì˜µì…˜ ì œì™¸
        if (text.includes('ì„ íƒ') || text.includes('--') || option.value === '') {
          return;
        }

        const isDisabled = option.disabled;
        const stock = isDisabled ? 0 : 999;

        items.push({
          name: text,
          stock: stock
        });
      });
    });

    console.log('[ì¬ê³ ][GrandStage] íŒŒì‹± ì™„ë£Œ:', items.length + 'ê°œ');
    return items;
  }

  // ==============================================
  // SSG íŒŒì„œ
  // ==============================================
  function parseSSGStock() {
    console.log('[ì¬ê³ ][SSG] íŒŒì‹± ì‹œì‘');
    
    const items = [];

    // ë°©ë²• 1: data-stock-qty ì†ì„±
    const optionsWithStock = document.querySelectorAll('option[data-stock-qty]');
    if (optionsWithStock.length > 0) {
      optionsWithStock.forEach(option => {
        const text = option.textContent.trim();
        const stockQty = parseInt(option.getAttribute('data-stock-qty')) || 0;
        
        if (text && !text.includes('ì„ íƒ')) {
          items.push({
            name: text,
            stock: stockQty
          });
        }
      });
      
      console.log('[ì¬ê³ ][SSG] íŒŒì‹± ì™„ë£Œ (data-stock-qty):', items.length + 'ê°œ');
      return items;
    }

    // ë°©ë²• 2: data-ob-stock-qty
    const divsWithStock = document.querySelectorAll('div[data-ob-stock-qty]');
    if (divsWithStock.length > 0) {
      divsWithStock.forEach(div => {
        const text = div.textContent.trim();
        const stockQty = parseInt(div.getAttribute('data-ob-stock-qty')) || 0;
        
        if (text) {
          items.push({
            name: text,
            stock: stockQty
          });
        }
      });
      
      console.log('[ì¬ê³ ][SSG] íŒŒì‹± ì™„ë£Œ (data-ob-stock-qty):', items.length + 'ê°œ');
      return items;
    }

    // ë°©ë²• 3: data-soldout
    const optionsWithSoldout = document.querySelectorAll('option[data-soldout]');
    if (optionsWithSoldout.length > 0) {
      optionsWithSoldout.forEach(option => {
        const text = option.textContent.trim();
        const isSoldout = option.getAttribute('data-soldout') === 'Y';
        
        if (text && !text.includes('ì„ íƒ')) {
          items.push({
            name: text,
            stock: isSoldout ? 0 : 999
          });
        }
      });
      
      console.log('[ì¬ê³ ][SSG] íŒŒì‹± ì™„ë£Œ (data-soldout):', items.length + 'ê°œ');
      return items;
    }

    // ë°©ë²• 4: disabled ì—¬ë¶€ë¡œ íŒë‹¨
    const allOptions = document.querySelectorAll('select[name*="option"] option, select.option-select option');
    if (allOptions.length > 0) {
      allOptions.forEach(option => {
        const text = option.textContent.trim();
        
        if (text && !text.includes('ì„ íƒ') && option.value !== '') {
          items.push({
            name: text,
            stock: option.disabled ? 0 : 999
          });
        }
      });
      
      console.log('[ì¬ê³ ][SSG] íŒŒì‹± ì™„ë£Œ (disabled):', items.length + 'ê°œ');
      return items;
    }

    throw new Error('ì¬ê³  ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  }

  // ==============================================
  // SSF Shop íŒŒì„œ
  // ==============================================
  function parseSSFShopStock() {
    console.log('[ì¬ê³ ][SSFShop] íŒŒì‹± ì‹œì‘');
    
    const items = [];

    // React ê¸°ë°˜ ì˜µì…˜ ë²„íŠ¼
    const optionButtons = document.querySelectorAll('button[class*="option"], button[class*="Option"], .option-item button');
    
    if (optionButtons.length > 0) {
      optionButtons.forEach(btn => {
        const text = btn.textContent.trim();
        const isDisabled = btn.disabled || btn.classList.contains('disabled') || btn.classList.contains('soldout');
        
        if (text && !text.includes('ì„ íƒ')) {
          items.push({
            name: text,
            stock: isDisabled ? 0 : 999
          });
        }
      });
      
      console.log('[ì¬ê³ ][SSFShop] íŒŒì‹± ì™„ë£Œ (ë²„íŠ¼):', items.length + 'ê°œ');
      return items;
    }

    // select ê¸°ë°˜ ì˜µì…˜
    const selects = document.querySelectorAll('select[name*="option"], select.option-select');
    if (selects.length > 0) {
      selects.forEach(select => {
        const options = select.querySelectorAll('option');
        
        options.forEach(option => {
          const text = option.textContent.trim();
          
          if (text && !text.includes('ì„ íƒ') && option.value !== '') {
            items.push({
              name: text,
              stock: option.disabled ? 0 : 999
            });
          }
        });
      });
      
      console.log('[ì¬ê³ ][SSFShop] íŒŒì‹± ì™„ë£Œ (select):', items.length + 'ê°œ');
      return items;
    }

    throw new Error('ì˜µì…˜ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  }

  // ==============================================
  // ë¡¯ë°IMALL íŒŒì„œ
  // ==============================================
  function parseLotteIMallStock() {
    console.log('[ì¬ê³ ][ë¡¯ë°IMALL] íŒŒì‹± ì‹œì‘');
    
    const items = [];

    // data-stock ì†ì„± í™•ì¸
    const optionsWithStock = document.querySelectorAll('option[data-stock]');
    
    if (optionsWithStock.length > 0) {
      optionsWithStock.forEach(option => {
        const text = option.textContent.trim();
        const stock = parseInt(option.getAttribute('data-stock')) || 0;
        
        if (text && !text.includes('ì„ íƒ')) {
          items.push({
            name: text,
            stock: stock
          });
        }
      });
      
      console.log('[ì¬ê³ ][ë¡¯ë°IMALL] íŒŒì‹± ì™„ë£Œ (data-stock):', items.length + 'ê°œ');
      return items;
    }

    // select ê¸°ë°˜ ì˜µì…˜
    const selects = document.querySelectorAll('select[name*="option"]');
    if (selects.length > 0) {
      selects.forEach(select => {
        const options = select.querySelectorAll('option');
        
        options.forEach(option => {
          const text = option.textContent.trim();
          
          if (text && !text.includes('ì„ íƒ') && option.value !== '') {
            items.push({
              name: text,
              stock: option.disabled ? 0 : 999
            });
          }
        });
      });
      
      console.log('[ì¬ê³ ][ë¡¯ë°IMALL] íŒŒì‹± ì™„ë£Œ (select):', items.length + 'ê°œ');
      return items;
    }

    // ë‹¨ì¼ ìƒí’ˆ
    console.log('[ì¬ê³ ][ë¡¯ë°IMALL] ë‹¨ì¼ ìƒí’ˆìœ¼ë¡œ ì²˜ë¦¬');
    items.push({
      name: 'ë‹¨ì¼ ìƒí’ˆ',
      stock: 999
    });

    return items;
  }

  // ==============================================
  // UI ë Œë”ë§
  // ==============================================
  function renderStockUI(items) {
    // ê¸°ì¡´ UI ì œê±°
    const existing = document.getElementById('stock-checker-overlay');
    if (existing) {
      existing.remove();
    }

    const totalStock = items.reduce((sum, item) => sum + item.stock, 0);
    const optionCount = items.length;

    // ì˜¤ë²„ë ˆì´ ìƒì„±
    const overlay = document.createElement('div');
    overlay.id = 'stock-checker-overlay';
    overlay.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999999;
      display: flex;
      justify-content: flex-end;
      align-items: flex-start;
      padding: 20px;
    `;

    // íŒì—… ìƒì„±
    const popup = document.createElement('div');
    popup.style.cssText = `
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      max-width: 400px;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    `;

    // í—¤ë”
    const header = document.createElement('div');
    header.style.cssText = `
      border-bottom: 2px solid #f0f0f0;
      padding-bottom: 15px;
      margin-bottom: 15px;
    `;
    header.innerHTML = `
      <h2 style="margin: 0 0 10px 0; font-size: 20px; color: #333;">ğŸ“¦ ì¬ê³ ì¡°íšŒ</h2>
      <div style="font-size: 14px; color: #666;">
        <div style="margin-bottom: 5px;"><strong>ì´ ì¬ê³ :</strong> ${totalStock}ê°œ</div>
        <div><strong>ì˜µì…˜ ìˆ˜:</strong> ${optionCount}ê°œ</div>
      </div>
    `;

    // ì˜µì…˜ ë¦¬ìŠ¤íŠ¸
    const list = document.createElement('div');
    list.style.cssText = `
      max-height: calc(80vh - 150px);
      overflow-y: auto;
    `;

    items.forEach(item => {
      const row = document.createElement('div');
      const hasStock = item.stock > 0;
      const icon = hasStock ? 'âœ…' : 'âŒ';
      const color = hasStock ? '#10b981' : '#ef4444';
      const stockText = item.stock === 999 ? 'ì¬ê³ ìˆìŒ' : `${item.stock}ê°œ`;

      row.style.cssText = `
        padding: 12px;
        margin-bottom: 8px;
        border-radius: 8px;
        background: ${hasStock ? '#f0fdf4' : '#fef2f2'};
        border-left: 4px solid ${color};
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
      `;

      row.innerHTML = `
        <div style="flex: 1; color: #333;">
          <span style="margin-right: 8px;">${icon}</span>
          <span>${item.name}</span>
        </div>
        <div style="font-weight: bold; color: ${color};">
          ${stockText}
        </div>
      `;

      list.appendChild(row);
    });

    // ë‹«ê¸° ì•ˆë‚´
    const footer = document.createElement('div');
    footer.style.cssText = `
      margin-top: 15px;
      padding-top: 15px;
      border-top: 2px solid #f0f0f0;
      text-align: center;
      font-size: 12px;
      color: #999;
    `;
    footer.textContent = 'í™”ë©´ì„ í´ë¦­í•˜ë©´ ë‹«í™ë‹ˆë‹¤';

    // ì¡°ë¦½
    popup.appendChild(header);
    popup.appendChild(list);
    popup.appendChild(footer);
    overlay.appendChild(popup);

    // ì˜¤ë²„ë ˆì´ í´ë¦­ ì‹œ ë‹«ê¸° (íŒì—… ë‚´ë¶€ í´ë¦­ì€ ì œì™¸)
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) {
        overlay.remove();
        window.__stockCheckerRunning = false;
      }
    });

    // íŒì—… í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
    popup.addEventListener('click', (e) => {
      e.stopPropagation();
    });

    document.body.appendChild(overlay);
    console.log('[ì¬ê³ ] UI ë Œë”ë§ ì™„ë£Œ');
  }

})();

í¬ë¦¼[ì—”í„°]
âœ•
